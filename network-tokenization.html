<!DOCTYPE html>
<html lang="en"> 
<head>
    <title>cardtokens.io</title>
    
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="Network scheme Tokenization enables frictionless, card-free payments with benefit your merchants with higher approval rates, lower costs, and increased conversion rates. Cardtokens is a Network Scheme Token aggregator that supports Network Scheme Tokenization through VISA and Mastercard.">
    <meta name="author" content="Cardtokens">    
    <link rel="shortcut icon" href="favicon.ico"> 
    
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet" defer>
    
    <!-- FontAwesome JS-->
    <script defer src="assets/fontawesome/js/all.min.js"></script>

	<!-- Payonic JS-->
    <script defer src="assets/js/payonic.js"></script>
    
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="./assets/css/atom-one-dark.min.css" defer>
    <link rel="stylesheet" href="assets/plugins/simplelightbox/simple-lightbox.min.css" defer>

    <!-- Theme CSS -->  
    <link id="theme-style" rel="stylesheet" href="assets/css/theme.css">

	<link id="payonic-style" rel="stylesheet" href="assets/css/payonic.css">
</head> 

<body class="docs-page">    
    <header class="header fixed-top">	    
        <div class="branding docs-branding">
            <div class="container-fluid position-relative py-2">
                <div class="docs-logo-wrapper">
					<button id="docs-sidebar-toggler" class="docs-sidebar-toggler docs-sidebar-visible me-2 d-xl-none" type="button">
	                    <span></span>
	                    <span></span>
	                    <span></span>
	                </button>
	                <div class="site-logo"><a class="navbar-brand" href="index.html"><img class="logo-icon me-2" src="assets/images/cardtokens-logo.png" alt="logo"><span class="logo-text">CARDTOKENS.IO</span></a></div>    
                </div><!--//docs-logo-wrapper-->
	            <div class="docs-top-utilities d-flex justify-content-end align-items-center">
	                
	
					<ul class="social-list list-inline mx-md-3 mx-lg-5 mb-0 d-none d-lg-flex">
						<li class="list-inline-item" style="display: none;"><a href="#"><i class="fab fa-github fa-fw"></i></a></li>
			            <li class="list-inline-item" style="display: none;"><a href="#"><i class="fab fa-twitter fa-fw"></i></a></li>
		                <li class="list-inline-item" style="display: none;"><a href="#"><i class="fab fa-slack fa-fw"></i></a></li>
		                <li class="list-inline-item" style="display: none;"><a href="#"><i class="fab fa-product-hunt fa-fw"></i></a></li>
		            </ul><!--//social-list-->
	            </div><!--//docs-top-utilities-->
            </div><!--//container-->
        </div><!--//branding-->
    </header><!--//header-->
    
    
    <div class="docs-wrapper">
	    <div id="docs-sidebar" class="docs-sidebar">
		    <div class="top-search-box d-lg-none p-3">
                <form class="search-form">
		            <input type="text" placeholder="Search the docs..." name="search" class="form-control search-input">
		            <button type="submit" class="btn search-btn" value="Search"><i class="fas fa-search"></i></button>
		        </form>
            </div>
		    <nav id="docs-nav" class="docs-nav navbar">
			    <ul class="section-items list-unstyled nav flex-column pb-3">
				    <li class="nav-item section-title"><a class="nav-link scrollto active" href="#section-1"><span class="theme-icon-holder me-2"><i class="fas fa-map-signs"></i></span>Introduction</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-1-1">Cardtokens</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-1-2">CIT</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-1-3">MIT</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-1-4">Card schemes connected</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-1-5">Terms and Definitions</a></li>
				    <li class="nav-item section-title mt-3"><a class="nav-link scrollto" href="#section-2"><span class="theme-icon-holder me-2"><i class="fas fa-arrow-down"></i></span>Get started</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-2-1">Get a free test-account</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-2-2">How to test</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-2-3">Functions available</a></li>
					<li class="nav-item section-title mt-3"><a class="nav-link scrollto" href="#section-3"><span class="theme-icon-holder me-2"><i class="fas fa-cogs"></i></span>API</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-3-1">Authentication and headers required</a></li>
				    <li class="nav-item"><a class="nav-link scrollto" href="#item-3-2">API response</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-3">Onboard merchant</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-4">Create token</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-5">Get cryptogram</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-6">Get token status</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-7">Delete token</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-8">Get card art</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-9">Token notification</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-10">Fallback using PAN</a></li>
					<li class="nav-item"><a class="nav-link scrollto" href="#item-3-11">Smart debugging</a></li>
			    </ul>

		    </nav><!--//docs-nav-->
	    </div><!--//docs-sidebar-->
	    <div class="docs-content">
		    <div class="container">
			    <article class="docs-article" id="section-1">
				    <header class="docs-header">
					    <h1 class="docs-heading">Introduction</h1>
					    <section class="docs-intro">
							<p>This document aims to form an overview of the Cardtokens integration API to help 3rd party integrators connect to Cardtokens and process major network tokens.</p>
							<h4 id="item-1-1" style="padding-top: 15px;">Cardtokens</h4>
						    <p>Cardtokens Aps is a token aggregator that helps acquirers, payment service providers (PSP), and large and enterprise merchants connect token services to major card schemes using a uniform API, which is plug ’n play for the developers. Using the SasS platform by Cardtokens Aps, 3rd parties can easily start converting their existing PAN into network tokens and minimize the risk of exposed PANs.</p>
							<h4 id="item-1-2" style="padding-top: 15px;">CIT</h4>
							<p>With <b>CIT network tokenization</b>, we ensure that each cardholder-initiated transaction is securely tokenized, replacing sensitive payment information with unique identifiers. By doing so, we eliminate the need for businesses to store sensitive card data, significantly reducing the risk of data breaches and enhancing overall security. This not only safeguards customer information but also instills trust and confidence in your brand.</p>
							<h4 id="item-1-3" style="padding-top: 15px;">MIT</h4>
							<p>Additionally, our <b>MIT network tokenization</b> provides merchants with greater control and flexibility over recurring or subscription-based payments. Through tokenization, we create a secure token that represents the customer's payment information, eliminating the need to store actual card data on the merchant's system. This enhances the customer experience by simplifying the payment process while maintaining the highest standards of security.</p>
							<h4 id="item-1-4" style="padding-top: 15px;">Card schemes connected</h4>
							<p>Cardtokens supports VISA (VTS) and Mastercard (MDES/M4M).</p>
							<h4 id="item-1-5" style="padding-top: 15px;">Terms and Definitions</h4>
							<p>
								<style>
									.tableTerms tr td:first-child {
										padding-right: 50px;
										font-weight: bold;
									}

									.tableTerms tr td {
										padding-bottom: 10px;
										font-size: small
									}
								</style>
								<table class="tableTerms" width="100%">
									<tr><td>VTS</td><td>VISA Token Service</td></tr>
									<tr><td>MDES</td><td>Mastercard Digital Enablement Service </td></tr>
									<tr><td>PSP</td><td>Payment Service Provider – Providers who offer an online terminal opened from the merchant website to process payments online within the PCI-DSS scope.</td></tr>
									<tr><td>Integrator</td><td>A 3rd party PSP, acquirer, merchant, which is PCI DSS compliance. </td></tr>
									<tr><td>Card scheme</td><td>Payment networks linked to payment cards, such as debit or credit cards. Visa and Mastercard are some of the major card schemes. </td></tr>
									<tr><td>Token</td><td>Also refers to network tokens issued by the card schemes. </td></tr>
									<tr><td>Token event</td><td>Is an event on behalf of a token transmitted from a cardholder/merchant toward the card scheme.</td></tr>
									<tr><td>Token notification</td><td>Is a notification from the card scheme transmitted to the cardholder/merchant.</td></tr>
									<tr><td>PSP</td><td>Payment Service Provider. A service provider that services merchants by hosted payment solutions.</td></tr>
									<tr><td>COF</td><td>Card On File. Meaning authorizations sourced from PANs are stored locally. These types of authorizations are normally recurring.</td></tr>
									<tr><td>SaaS</td><td>Software as a Service. Typically named for hosted services, which are easy to integrate into existing solutions.</td></tr>
									<tr><td>PAN</td><td>Primary Account Number. E.g., card number.</td></tr>
									<tr><td>Cardtokens</td><td>Referred to Cardtokens Aps and www.cardtokens.io</td></tr>
									<tr><td>CHD</td><td>Cardholder data. Information such as card number, expiry date, security code, cardholder name, etc.</td></tr>
									<tr><td>CIT</td><td>Cardholder-initiated transactions (CIT) are payments initiated and authorized by a cardholder by entering card details or using stored credentials and payment details - transactions where a cardholder takes an active part.</td></tr>
									<tr><td>MIT</td><td>Merchant-initiated transactions (MIT) are payments undertaken by businesses with a mandate from a cardholder. That is regular recurring payments (COF), where the cardholder has stored the card details on a website (at a payment service provider). The merchant then performs the authorization using their connected payment service provider.</td></tr>
									<tr><td>Merchant ID</td><td>Merchant Identification Number is a unique identification number attached to a business. Every merchant will receive a unique merchant ID when they are onboarded.  </td></tr>
									<tr><td>Cryptogram</td><td>A cryptogram is network data generated before actual CIT authorization request for a token transaction is made. The cryptogram itself is encrypted and can only be read by the token service and the issuer responsible. All other actors, on the other hand, are not able to subsequently change the cryptogram. The cryptogram is transmitted in the CIT authorization.</td></tr>
								</table>
							</p>
						</section><!--//docs-intro-->
				    </header>
			    </article><!--//docs-article-->

				<article class="docs-article" id="section-2" style="margin-top: 0px; padding-top: 0px;">
					<section class="docs-section">
						<h1 class="section-heading">Get started</h1>
						<h4 id="item-2-1" style="padding-top: 15px;">Get a free test-account</h4>
						<p>The integrator needs to apply for a test account: <a href="https://www.cardtokens.io/get-started" target="_blank">https://www.cardtokens.io/get-started</a></p>
						<p>When the test account is in place, the integrator must set up API keys and an endpoint to receive push notifications upon token updates.</p>
						<h4 id="item-2-2" style="padding-top: 15px;">How to test</h4>
						<p>Before you can perform a test, a test-API-key must be created. When creating tokens using this test-API-key, the following test PANs can be used only:</p>
						<h5 id="item-2-3">Visa</h5>
						<p>
							<ul style="font-size: small;">
								<li style="letter-spacing: 4px;">4111 1111 4555 1142</li>
								<li style="letter-spacing: 2px;">4293 1891 0000 0008</li> 
								<li style="letter-spacing: 2px;">4166 6766 6766 6746</li>
								<li style="letter-spacing: 2px;">4646 4646 4646 4644</li>
								<li style="letter-spacing: 2px;">4000 0600 0000 0006</li>
							</ul>
						</p>
						<h5 id="item-2-3">Mastercard</h5>
						<p>
							<ul style="font-size: small;">
								<li style="letter-spacing: 3px;">5555 3412 4444 1115</li>
								<li style="letter-spacing: 2px;">5577 0000 5577 0004</li>
								<li style="letter-spacing: 2px;">5555 5555 5555 4444</li>
								<li style="letter-spacing: 2px;">2222 4000 5000 0009</li>
								<li style="letter-spacing: 2px;">2222 4000 3000 0004</li>
							</ul>
						</p>
						<p>
							When requesting using the test PANs, the expiry date must be valid (unexpired). 
						</p>
						<h4 id="item-2-4" style="padding-top: 15px;">Functions available </h4>
						<p>For Cardtokens to provide the SaaS solution to the integrator, the following functions must / can be implemented:</p>
						<div style="padding: 10px;">
						<h5>Onboarding</h5>
						<p>Function to create a merchant on the VTS/MDES platform</p>
						<h5 style="padding-top: 10px;">Create token</h5>
						<p>Creates a network token on behalf of CHD and returns the token to the requester (acquirer, PSP, merchant).</p>
						<h5 style="padding-top: 10px;">Create cryptogram / get payment data</h5>
						<p>Must be initiated when authorization is to be made by PSP. </p>
						<h5 style="padding-top: 10px;">Get token status</h5>
						<p>This method is used to request the status of an existing token.</p>
						<h5 style="padding-top: 10px;">Delete token</h5>
						<p>When a token is no longer needed, it must be deleted by this function.</p>
						<h5 style="padding-top: 10px;">Get card art</h5>
						<p>It is used to request the graphical details of a payment card associated with a token. The card art is then notified to the requester using configured card art notification URL.</p>
						<h5 style="padding-top: 10px;">Token notification</h5>
						<p>When the issuer updates a token, an HTTP GET notification is transmitted from Cardtokens to 3rd parties.</p>
						<h5 style="padding-top: 10px;">Merchant onboarded notification</h5>
						<p>An HTTP GET notification is transmitted from Cardtokens to 3rd parties when a merchant is fully enrolled within the scheme environments.</p>
					</div>
					</section>
				</article>

				<article class="docs-article" id="section-3" style="margin-top: 0px; padding-top: 0px;">
					<section class="docs-section">
						<h1 class="section-heading">API</h1>
						<h4 id="item-3-1" style="padding-top: 15px;">Authentication and headers required</h4>
						<p>The Cardtokens API is a rest full API over HTTPS connection. Data is encrypted using TLS 1.2. Authentication is required for each request using a shared API key added to the HTTP headers.</p>
						<p>Two headers must be added to the HTTP request when transmitting the request:</p>
						<ul>
							<li>Content-Type: application/json</li>
							<li>X-Api-Key: 5251XXX-THE-API-KEY-XXXXX6bd69</li>
						</ul>
						<p>The prefix for the endpoint of the Cardtokens API is: https://api.cardtokens.io/api</p>
						<h4 id="item-3-2" style="padding-top: 15px;">API response</h4>
						<p>On success, the Cardtokens API responds by HTTP 200, and a valid payload is transmitted back to the client.</p>
						<p>On failure, the Cardtokens API responds by any other status code than HTTP 200. The reason is transmitted back to the client in the payload.</p>

						<!-- onboard merchant -->
						<h4 id="item-3-3" style="padding-top: 15px;">Onboard merchant</h4>
						<p>Each merchant must be onboarded to the platform before the integrator can start to tokenize the PANs. When the merchant is onboarded toward VTS and MDES, the integrator will receive a unique Merchant ID. Below is a state-chart diagram, which shows the onboarding flow.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/onboard-merchant.png" alt="Onboard merchant flow"></td>
									<td>
										<p>1) The integrator initiates the onboarding of a merchant by calling Cardtokens.</p>
										<p>2) Cardtokens onboards towards Mastercard MDES.</p>
										<p>3) Cardtokens onboards to VISA VTS.</p>
										<p>4) The integrator will receive a Merchant ID when the onboarding is completed to both VTS and MDES. </p>

									</td>
								</tr>
							</table>
						</p>
						<h5>Endpoint and method</h5>
						<p>Method: POST</p>
						<p>Endpoint: <a href="https://api.cardtokens.io/api/merchant" target="_blank">https://api.cardtokens.io/api/merchant</a></p>
						<h5 style="padding-top: 15px;">Request parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col">Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col">Description</th>
									</tr>		
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">companyprimarylegalname</td>
										<td style="text-align: center;">String</td>
									    <td><b>Required.</b> The legal name of the merchant.</td>
									</tr>

									<tr>
									    <td class="theme-bg-light">primarywebsiteurl</td>
										<td style="text-align: center;">String</td>
									    <td><b>Required.</b> The primary website URL of the merchant. Must start with https://.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">companycity</td>
										<td style="text-align: center;">String</td>
									    <td><b>Required.</b> The city of the merchant.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">companycountrycode</td>
										<td style="text-align: center;">String</td>
									    <td><b>Required.</b> The country code of the merchant. E.g., Denmark is “DK”. The field is formatted according to ISO-3166-2.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">primarycontactemail</td>
										<td style="text-align: center;">String</td>
									    <td><b>Required.</b> The e-mail address of the primary contact at the merchant.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">businessidentificationtype</td>
										<td style="text-align: center;">String</td>
									    <td><b>Required.</b> The type of business identification type. For the following countries, this value must be “VAT”.
											Austria, Belgium, Bulgaria, Croatia, Czech Republic, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands, Norway, Poland, Portugal, Republic of Cyprus, Romania, Saudi Arabia, Slovak Republic, Slovenia, South Africa, Spain, Sweden, Switzerland, Turkey, Ukraine, United Arab Emirates, United Kingdom.
										</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">businessidentificationvalue</td>
										<td style="text-align: center;">String</td>
									    <td><b>Required.</b> The value associated with the business identifier type, if provided.
											For the countries specified, the value has to be formatted like {countrycode}{value}. E.g., Cardtokens Aps is formatted like DK42967920.
										</td>
									</tr>									
								</tbody>
							</table>
						</div>
						<h5>Response parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col">Parameter name</th>
										<th scope="col">Data type</th>
										<th scope="col">Description</th>
									</tr>
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">merchantid</td>
										<td style="text-align: center;">String</td>
									    <td>The unique reference to the onboarded merchant.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">schemes</td>
										<td style="text-align: center;">String[]</td>
									    <td>An array of schemes connected to this merchant. Values can be of “visa”, “mastercard”, “testscheme”.</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Example request</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"companyprimarylegalname"</span>: <span class="hljs-string">"Cardtokens Aps"</span>,
	<span class="hljs-attr">"primarywebsiteurl"</span>: <span class="hljs-number">"https://www.cardtokens.io"</span>,
	<span class="hljs-attr">"companycity"</span>: <span class="hljs-string">"Aalborg"</span>,
	<span class="hljs-attr">"companycountrycode"</span>: <span class="hljs-string">"DK"</span>,
	<span class="hljs-attr">"primarycontactemail"</span>: <span class="hljs-string">"webmaster@cardtokens.io"</span>,
	<span class="hljs-attr">"businessidentificationtype"</span>: <span class="hljs-string">"VAT"</span>,
	<span class="hljs-attr">"businessidentificationvalue"</span>: <span class="hljs-string">"DK42967920"</span>
}
							</code></pre>
						</div>
						<h5>Example response</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"merchantid"</span>: <span class="hljs-string">"33df271c57c6441785e03a116a35de98"</span>,
	<span class="hljs-attr">"schemes"</span>: <span class="hljs-number">[ "mastercard", "visa", "testscheme" ]</span>
}
							</code></pre>
						</div><!--//docs-code-block-->
						<h5 style="padding-top: 15px;">Onboard time</h5>
						<p>
							<strong style="font-size: small; color: #660000;">Notice that it takes approx.  48 hours for the schemes to enable an onboarded merchant. </strong>
							<br><br>
							Merchants who are not yet onboarded with the schemes will return an error 400 (status code) upon create token requests:
							<br>
							<i>{"status":400,"message":"Input to tokenRequestorId is invalid","reason":"trConfigIssue"}</i>
						</p>
						<h5 style="padding-top: 15px;">Scheme onboarding notification</h5>
						<p>When the merchant is confirmed enabled with all the connected schemes, Cardtokens will notify the integrator using GET. You are now able to generate network tokens for the merchant. Cardtokens notifies when Cardtokens has validated that the onboarded agreement works by creating a token directly towards the schemes. A notification is transmitted for each scheme onboarded.</p>
						<h6 style="padding-top: 10px;">Endpoint and method</h6>
						<p>Method: GET</p>
						<p>End point: <a href="#">https://www.website-super-shop /merchant/{merchantid}/visa</a></p>
						<p>End point: <a href="#">https://www.website-super-shop /merchant/{merchantid}/mastercard</a></p>
						<p>End point: <a href="#">https://www.website-super-shop /merchant/{merchantid}/testscheme</a> <strong>(test only)</strong></p>
						
						

						<!-- create token -->
						<h4 id="item-3-4" style="padding-top: 25px;">Create Token</h4>
						<p>This call generates a network token on behalf of a PAN. The flow is as follows.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/create-token.png" alt="Create token flow"></td>
									<!-- td>
										<p>1) The integrator initiates the onboarding of a merchant by calling Cardtokens.</p>
										<p>2) Cardtokens onboards towards Mastercard MDES.</p>
										<p>3) Cardtokens onboards to VISA VTS.</p>
										<p>4) The integrator will receive a Merchant ID when the onboarding is completed to both VTS and MDES. </p>

									</td-->
								</tr>
							</table>
						</p>
						<h5>Endpoint and method</h5>
						<p>Method: POST</p>
						<p>Endpoint: <a href="https://api.cardtokens.io/api/token" target="_blank">https://api.cardtokens.io/api/token</a></p>
						<h5 style="padding-top: 15px;">Request parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col">Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col">Description</th>
									</tr>		
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">card.pan</td>
										<td>String</td>
									    <td><b>Required.</b> The cardholder PAN to convert into a network token. Please notice that this field must be encrypted using an RSA public key delivered by Cardtokens. Details about encryption are explained in the section “Pan encryption” below.</td>
									</tr>

									<tr>
									    <td class="theme-bg-light">card.expmonth</td>
										<td>Integer</td>
									    <td><b>Required.</b> The cardholder expiry month formatted as N2 (1 = 01).</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">card.expyear</td>
										<td>Integer</td>
									    <td><b>Required.</b> The cardholder expiry year formatted as N4 (e.g., 2099).</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">card.securitycode</td>
										<td>String</td>
									    <td>Optionally. The CVV2 / CVC value of the card. For better conversion, the schemes advise adding the security code when available. Many issuers still validate on security code in the authorizations.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">merchantid</td>
										<td>String</td>
									    <td><b>Required.</b> Unique identifier of the merchant received from Cardtokens when creating the merchant. The created network token will only work with this merchant id.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">billingaddress.line1</td>
										<td>String</td>
									    <td>Optional. Street 1 on billing address for the payment instrument.
											Format: Alphabetic, numeric, and the following alphanumeric characters: period (.), comma (,), single quote ('), hyphen (-), pound sign or hashtag (#), forward slash (/) and whitespace; maximum 140 characters.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">billingaddress.line2</td>
										<td>String</td>
									    <td>Optional. Street 2 on billing address for the payment instrument.
											Format: Alphabetic, numeric, and the following alphanumeric characters: period (.), comma (,), single quote ('), hyphen (-), pound sign or hashtag (#), forward slash (/) and whitespace; maximum 140 characters.</td>
									</tr>									
									<tr>
									    <td class="theme-bg-light">billingaddress.city</td>
										<td>String</td>
									    <td>Optional. The city associated with the enrolled payment instrument.
											Format: Alphabetic, single quote ('), hyphen (-), and whitespace.; maximum 100 characters.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">billingaddress.state</td>
										<td>String</td>
									    <td>Optional. State or province code in ISO 3166-2 format, e.g., NY.
											Format: Alphabetic; maximum 3 characters.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">billingaddress.country</td>
										<td>String</td>
									    <td>Optional. Country in ISO 3166-1 alpha-2 format, e.g., US.
											Format: Alphabetic; maximum 2 characters.
											</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">billingaddress.postalcode</td>
										<td>String</td>
									    <td>Optional. The postal code associated with the enrolled payment instrument.
											Note: This field does not support spaces (" ") in the middle of characters.
											Format: Alphabetic, numeric, e.g., spaces are not allowed; maximum 3–16 characters.
											</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Response parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col" nowrap>Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col"nowrap>Description</th>
									</tr>		
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">scheme</td>
										<td>String</td>
									    <td>The major scheme of the token. It can be one of “visa”, “mastercard” or “testscheme”.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">token</td>
										<td>String</td>
									    <td>
											The major scheme network token generated.<br>
											Visa: The unencrypted field contains a token as a 13-16 character string.<br>
											Mastercard: TokenNumber returned in field TokenDetailData from the Tokenize api call. This value is formatted as minLength: 9, maxLength: 19 and example: 5123456789012345<br>
											Test scheme: This is a 16 digit simulated mod10 compatible number starting with "1" (prefix).
										</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">tokenid</td>
										<td>String</td>
									    <td>The unique reference of the token when communicating to the Cardtokens API. This reference must be stored locally as this value is the key reference to the token when communicating with the Cardtokens API.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">expmonth</td>
										<td>Integer</td>
									    <td>The expiry month of the token. E.g., 01. Formatted as N1/N2</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">expyear</td>
										<td>Integer</td>
									    <td>The expiry year of the token. E.g., 2099. Formatted as N4</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Encrypted example request</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"enccard"</span>: <span class="hljs-string">"NjAwNzIyMDAwMDAwMDAwNDYwMDcyMjAwMDAwMDAwMDQ2MDA3MjIwM………DAwNA=="</span>,
	<span class="hljs-attr">"billingaddress"</span>: 
	{
		<span class="hljs-attr">"line1"</span>: <span class="hljs-number">"Gammel Havn 1"</span>,
		<span class="hljs-attr">"line2"</span>: <span class="hljs-string">""</span>,
		<span class="hljs-attr">"city"</span>: <span class="hljs-string">"Aalborg"</span>,
		<span class="hljs-attr">"state"</span>: <span class="hljs-string">"Northjutland"</span>,
		<span class="hljs-attr">"country"</span>: <span class="hljs-string">"DK"</span>,
		<span class="hljs-attr">"postalcode"</span>: <span class="hljs-string">"9000"</span>
	}
}
							</code></pre>
						</div>
						<h5>Unencrypted example request</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"card"</span>: 
	{
		<span class="hljs-attr">"pan"</span>: <span class="hljs-string">"6007220000000004"</span>,
		<span class="hljs-attr">"expmonth"</span>: <span class="hljs-string">2</span>,
		<span class="hljs-attr">"expyear"</span>: <span class="hljs-string">2028</span>,
		<span class="hljs-attr">"securitycode"</span>: <span class="hljs-string">"000"</span>
	},
	<span class="hljs-attr">"billingaddress"</span>: 
	{
		<span class="hljs-attr">"line1"</span>: <span class="hljs-number">"Gammel Havn 1"</span>,
		<span class="hljs-attr">"line2"</span>: <span class="hljs-string">""</span>,
		<span class="hljs-attr">"city"</span>: <span class="hljs-string">"Aalborg"</span>,
		<span class="hljs-attr">"state"</span>: <span class="hljs-string">"Northjutland"</span>,
		<span class="hljs-attr">"country"</span>: <span class="hljs-string">"DK"</span>,
		<span class="hljs-attr">"postalcode"</span>: <span class="hljs-string">"9000"</span>
	}
}
							</code></pre>
						</div>
						<h5>Example response</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"scheme"</span>: <span class="hljs-string">"testscheme"</span>,
	<span class="hljs-attr">"token"</span>: <span class="hljs-number">"1454545454878784"</span>,
	<span class="hljs-attr">"tokenid"</span>: <span class="hljs-number">"529d7cb6a75e4bab8d71eb09dcd489e0"</span>,
	<span class="hljs-attr">"expmonth"</span>: <span class="hljs-number">2</span>,
	<span class="hljs-attr">"expyear"</span>: <span class="hljs-number">2028</span>
}
							</code></pre>
						</div><!--//docs-code-block-->
						<h5>Card Encryption</h5>
						<p>To strengthen the security of sensitive credit card details, the structure “card” must be encrypted when creating tokens. That means this json object must be encrypted independently using a public key received by Cardtokens. Cardtokens will then decrypt the encrypted card object at runtime by an internal secure stored private key. This public key will be received when the account is setup at Cardtokens.</p>
						<h6 style="padding-top: 10px;">Encryption algorithm</h6>
						<p>The PAN is encrypted using RSA and the padding scheme from PKCS #1 v1.5.</p>
						<h6 style="padding-top: 10px;">Steps for encrypting</h6>
						<ol>
							<li>Transform the card JSON object to a JSON string</li>
							<li>Encrypt the JSON string using the public key</li>
							<li>Encode the binary encrypted string to base64</li>
							<li>Set the value of enccard to the base64 encoded string, which contains the encrypted card details.</li>

						</ol>

						<!-- get cryptogram -->
						<h4 id="item-3-5" style="padding-top: 25px;">Get cryptogram</h4>
						<p>This API call is used to get a cryptogram on behalf of a token that needs to be used for the authorization.</p>
						<p>The full flow for generating a cryptogram is defined below. Please note that if no secure server (3D) is involved, steps 1 and 2 can be skipped, and the flow starts at step 3. <font style="background-color: yellow">Also note that cryptograms are used for <b>CIT</b> payment flows only, where the cardholder initiates the payment process. </font></p>
						<p>Notice that there is no liability shifting when using tokens. Liability is only shifted by the rules handled by the secure server. When no secure server is used liability is normally placed on the merchant. Cardtokens advise their clients to contact their connected acquirers for more details about liability and shifting.</p>
						<p>Notice in the flow described below, Cardtokens is only involved in the calls inside the red box.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/get-cryptogram.png" alt="Get cryptogram flow"></td>
									<!-- td>
										<p>1) The integrator initiates the onboarding of a merchant by calling Cardtokens.</p>
										<p>2) Cardtokens onboards towards Mastercard MDES.</p>
										<p>3) Cardtokens onboards to VISA VTS.</p>
										<p>4) The integrator will receive a Merchant ID when the onboarding is completed to both VTS and MDES. </p>

									</td-->
								</tr>
							</table>
						</p>
						<strong>Steps:</strong>
						<ol>
							<li>The integrator communicates with the secure server to authenticate the cardholder. In the case of a challenge, the cardholder must perform identity verification.</li>
							<li>When the cardholder is authenticated, the authentication data is returned to the integrator (CAVV, AVV).</li>
							<li>The requester calls the Cardtokens API to generate a cryptogram on behalf of a token.</li>
							<li>Cardtokens communicate with the card scheme, which owns the network token.</li>
							<li>Upon validation, the card scheme returns to Cardtokens with a cryptogram.</li>
							<li>Cardtokens returns to the integrator with the cryptogram received from the card scheme.</li>
							<li>The integrator performs an authorization request to the connected acquirer.</li>
							<li>The acquirer returns with an authorization response to the integrator.</li>
						</ol>
						<h5 style="padding-top: 10px;">Endpoint and method</h5>
						<p>Method: POST</p>
						<p>Endpoint: <a href="#">https://api.cardtokens.io/api/token/{tokenid}/cryptogram</a></p>
						<h5 style="padding-top: 10px;">Request parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col" nowrap>Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col"nowrap>Description</th>
									</tr>		
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">Reference</td>
										<td>String</td>
									    <td><b>Required.</b> The order reference used for the purchase.</td>
									</tr>

									<tr>
									    <td class="theme-bg-light">transactiontype</td>
										<td>String</td>
									    <td>Optional. The transaction type can be one of “ecom”, “recurring”. Default “ecom”</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">unpredictablenumber</td>
										<td>String</td>
									    <td>Optional. Random number that can be generated by the merchant for use generating the cryptogram (Mastercard only). If this is skipped Cardtokens will generate a random number. Length must be either 0 or 8 and numbers only (0-9).</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Response parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col" nowrap>Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col"nowrap>Description</th>
									</tr>		
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">cryptogram</td>
										<td>String</td>
									    <td>
											The cryptogram to be included in the authorization with the acquirer.<br>
											<br>
											For Mastercard, this is the de48se43Data. MinLength: 1, maxLength: 32, example: "11223344556677889900112233445566".<br>
											<br>
											For Visa, this is the cryptogram from the “Cryptogram Info” structure. Format: Alphabetic, numeric; maximum 28 characters.<br>
											<br>
											For the test scheme, the cryptogram is a base64 formatted GUID.<br>
										</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">token</td>
										<td>String</td>
									    <td>
											The major scheme network token generated. Please refer to “Create Token” for details about this field.
										</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">expmonth</td>
										<td>Integer</td>
									    <td>The expiry month of the cryptogram. Formatted as N2 (e.g. 11).</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">expyear</td>
										<td>Integer</td>
									    <td>The expiry year of the cryptogram. Formatted as N4 (e.g. 2099).</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">par</td>
										<td>String</td>
									    <td>Payment account reference. Used for digital receipts and loyalty.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">paymentdataid</td>
										<td>String</td>
									    <td>The unique reference to the cryptogram stored at Cardtokens.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">scheme</td>
										<td>String</td>
									    <td>The card scheme of the cryptogram. It can be of “visa”, “mastercard” or “testscheme”.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">tokenid</td>
										<td>String</td>
									    <td>The tokenid passed as request for creating the cryptogram.</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Example request</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"reference"</span>: <span class="hljs-string">"123j12323"</span>,
	<span class="hljs-attr">"transactiontype"</span>: <span class="hljs-string">"ecom"</span>,
	<span class="hljs-attr">"unpredictablenumber"</span>: <span class="hljs-string">"87654321"</span>
}
							</code></pre>
						</div>
						<h5>Example response</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"cryptogram"</span>: <span class="hljs-string">"NTk0ZjM5M2QyNDMwNDE1MjkzMjg1ZTg5Y2NiZjdmNjE="</span>,
	<span class="hljs-attr">"token"</span>: <span class="hljs-number">"4492697777715235"</span>,
	<span class="hljs-attr">"expmonth"</span>: <span class="hljs-number">2</span>,
	<span class="hljs-attr">"expyear"</span>: <span class="hljs-number">2028</span>,
	<span class="hljs-attr">"par"</span>: <span class="hljs-number">"91e2eb3cc21347499aa2c74c218f4fc8"</span>,
	<span class="hljs-attr">"paymentdataid"</span>: <span class="hljs-number">"7f62909ce76147a99525f5c699d17ef8"</span>,
	<span class="hljs-attr">"scheme"</span>: <span class="hljs-number">"testscheme"</span>,
	<span class="hljs-attr">"tokenid"</span>: <span class="hljs-number">"529d7cb6a75e4bab8d71eb09dcd489e0"</span>
}
							</code></pre>
						</div><!--//docs-code-block-->
						<h6>Cryptogram lifetime</h6>
						<p>When cryptograms are created, the cryptogram must be stored in memory only! It’s a requirement from the major schemes. That means a new cryptogram must be requested on runtime every time a CIT payment is made and immediately used in the authorization towards the acquirer.</p>
						<h6 style="padding-top: 15px;">3D secure testing</h6>
						<p>Unfortunately, there is no option to test the create cryptogram API call using a test-API-key. Instead, live production tests must be performed to test the full end-2-end flow using a secure server. Please get in touch with Cardtokens for information on how to perform this test.</p>
						<h6 style="padding-top: 15px;">Get cryptogram for CIT / MIT</h6>
						<p>Normally it’s only for CIT type of payment flows where a cryptogram is required. For MIT the cryptogram is only required for the first authorization / sign-up. For the subsequent authorizations, the payment service provider normally refers to the previous or initial authorization where the cryptogram was requested.</p>

						<!-- get token status -->
						<h4 id="item-3-6" style="padding-top: 25px;">Get token status</h4
						<p>Use this API call to delete a token. The flow is described in the illustration below.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/get-token-status.png" alt="Get token status flow"></td>
								</tr>
							</table>
						</p>
						<h5>Endpoint and method</h5>
						<p>Method: GET </p>
						<p>Endpoint: https://api.cardtokens.io/api/token/{tokenid}/status</p>
						<h5>Response parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col" nowrap>Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col"nowrap>Description</th>
									</tr>		
								</thead>
								<tbody>
									<tr>
									    <td class="theme-bg-light">expmonth</td>
										<td>Integer</td>
									    <td>The expiry month of the cryptogram. Formatted as N2 (e.g. 11).</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">expyear</td>
										<td>Integer</td>
									    <td>The expiry year of the cryptogram. Formatted as N4 (e.g. 2099).</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">token</td>
										<td>String</td>
									    <td>The major scheme network token generated. Please refer to “Create Token” for details about this field.</td>
									</tr>
									
									<tr>
									    <td class="theme-bg-light">status</td>
										<td>String</td>
									    <td>Status of the token. It can be of “ACTIVE” or “INACTIVE”.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">scheme</td>
										<td>String</td>
									    <td>The card scheme of the token. It can be of “visa”, “mastercard” or “testscheme”.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">tokenid</td>
										<td>String</td>
									    <td>The unique Cardtoken reference of the token.</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Example response</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"expmonth"</span>: <span class="hljs-number">2</span>,
	<span class="hljs-attr">"expyear"</span>: <span class="hljs-number">2028</span>,
	<span class="hljs-attr">"token"</span>: <span class="hljs-number">"4492697777715235"</span>,
	<span class="hljs-attr">"status"</span>: <span class="hljs-string">"ACTIVE"</span>,
	<span class="hljs-attr">"tokenid"</span>: <span class="hljs-number">"529d7cb6a75e4bab8d71eb09dcd489e0"</span>,
	<span class="hljs-attr">"scheme"</span>: <span class="hljs-number">"visa"</span>
}
							</code></pre>
						</div><!--//docs-code-block-->
						

						

						<!-- delete token -->
						<h4 id="item-3-7" style="padding-top: 25px;">Delete token</h4>
						<p>Use this API call to delete a token. The flow is described in the illustration below.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/delete-token.png" alt="Delete token flow"></td>
								</tr>
							</table>
						</p>
						<h5>Endpoint and method</h5>
						<p>Method: DELETE</p>
						<p>Endpoint: <a href="#">https://api.cardtokens.io/api/token/{tokenid}/delete</a></p>
						<h5 style="padding-top: 15px;">Response parameters</h5>
						<p>There is no response parameters. The API call returns HTTP 200 on success.</p>

						

						<!-- get cardart -->
						<h4 id="item-3-8" style="padding-top: 25px;">Get card art</h4>
						<p>Use this API call to get the graphical material of the card issued to the cardholder. The flow is as defined below.</p>
						<p>Notice that the flow is split up into two steps. 1) the requester requests card art to a token given. Later when the card art is generated Cardtokens sends an async notification including the card art payload.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/card-art-2.png" alt="Get card art flow"></td>
									<!-- td>
										<p>1) The integrator initiates the onboarding of a merchant by calling Cardtokens.</p>
										<p>2) Cardtokens onboards towards Mastercard MDES.</p>
										<p>3) Cardtokens onboards to VISA VTS.</p>
										<p>4) The integrator will receive a Merchant ID when the onboarding is completed to both VTS and MDES. </p>

									</td-->
								</tr>
							</table>
						</p>
						<h5>Endpoint and method</h5>
						<p>Method: GET</p>
						<p>Endpoint: <a href="#">https://api.cardtokens.io/api/token/{tokenid}/cardart</a></p>
						<h5 style="padding-top: 15px;">Response parameters</h5>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col" nowrap>Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col"nowrap>Description</th>
									</tr>		
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">url</td>
										<td>String</td>
									    <td>
											The full URL to where the notification is transmitted by HTTP POST including card art details.
										</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">tokencardartqueueid</td>
										<td>String</td>
									    <td>
											The uniqueue reference to the enqueued request for card art.
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Example response</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"url"</span>: <span class="hljs-string">"https://YOUR-DOMAIN-FOR-CARDART-NOTIFICATIONS/{tokenid}"</span>,
	<span class="hljs-attr">"tokencardartqueueid"</span>: <span class="hljs-number">"5f6463cbdf4b423590d916aab22f8e44"</span>
}
							</code></pre>
						</div><!--//docs-code-block-->

						<h5>Noification parameters</h5>
						<p style="color: red;">MANGLER</p>
						<h5 style="padding-top: 15px;">Endpoint and method</h5>
						<p>Method: POST</p>
						<p>Endpoint: <a href="#">https://YOUR-DOMAIN-FOR-CARDART-NOTIFICATIONS/{tokenid}</a></p>
						<div class="table-responsive my-4">
							<table class="table table-striped">
								<thead>
									<tr>
										<th scope="col" nowrap>Parameter name</th>
										<th scope="col" nowrap>Data type</th>
										<th scope="col"nowrap>Description</th>
									</tr>		
								</thead>
								<tbody>
								    <tr>
									    <td class="theme-bg-light">b64image</td>
										<td>String</td>
									    <td>
											A base 64 encoded value of the PNG. This can be inserted directly into an IMG tag or decoded and written to file.
										</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">mimetype</td>
										<td>String</td>
									    <td>
											The http protocol formatting type of the image. Currently only image/png is available.
										</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">width</td>
										<td>Integer</td>
									    <td>The width of the image.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">height</td>
										<td>Integer</td>
									    <td>The height of the image.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">last4</td>
										<td>String</td>
									    <td>The last 4 digits of the PAN.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">expmonth</td>
										<td>Integer</td>
									    <td>The expiry month of the token. N2 formatted as 12.</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">expyear</td>
										<td>Integer</td>
									    <td>The expiry year of the token. Formatted as N4 (e.g. 2099).</td>
									</tr>
									<tr>
									    <td class="theme-bg-light">issuer</td>
										<td>String</td>
									    <td>The name of the bank which has issued the card.</td>
									</tr>
								</tbody>
							</table>
						</div>
						<h5>Example payload</h5>
						<div class="docs-code-block">
							<pre class="shadow-lg rounded"><code class="json hljs">
{
	<span class="hljs-attr">"b64image"</span>: <span class="hljs-string">"iVBORw0KGgoAA………………AAGUCAYA="</span>,
	<span class="hljs-attr">"mimetype"</span>: <span class="hljs-number">"image/png"</span>,
	<span class="hljs-attr">"height"</span>: <span class="hljs-number">404</span>,
	<span class="hljs-attr">"width"</span>: <span class="hljs-number">640</span>,
	<span class="hljs-attr">"expmonth"</span>: <span class="hljs-number">2</span>,
	<span class="hljs-attr">"expyear"</span>: <span class="hljs-number">2028</span>,
	<span class="hljs-attr">"last4"</span>: <span class="hljs-number">"6486"</span>,
	<span class="hljs-attr">"issuer"</span>: <span class="hljs-number">"Bank of Cardtokens"</span>
}
							</code></pre>
						</div><!--//docs-code-block-->

						<h6>How to display the image</h6>
						<p>The base64 encoded image can be displayed in HTML using this format:
							<br>
							<code>&lt;img src=”data:{mimetype};base64, {b64image}” /&gt;</code>
						</p>
						<p>From the example, this will look like this:
							<br>
							<code>&lt;img src=”data:image/png;base64, iVBORw0KGgoAA………………AAGUCAYA=” /&gt;</code>
						</p>
						
						<!-- notification -->
						<h4 id="item-3-9" style="padding-top: 25px;">Notification</h4>
						<h5>Token status update</h5>
						<p>When a change is made to a token from the card scheme network, a notification is transmitted. Changes in a token can be if the card is updated (issued a new card) or the token/card is deleted. The flow is described in the figure below.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/token-status-update.png" alt="Token status update flow"></td>
								</tr>
							</table>
						</p>
						<p>When a notification is sent, no data includes. It is up to the integrator to fetch the details needed by calling the token status or token card art functions.</p>
						<h5>Endpoint and method</h5>
						<p style="padding-top: 15px;">Method: GET</p>
						<p>Endpoint: <a href="#">https://www.website-super-shop/token/{tokenid}</a></p>

						<!-- fallback using pan -->
						<h4 id="item-3-10" style="padding-top: 25px;">Fallback using PAN</h4>
						<p>Scheme tokenization is currently being rolled out to all regions globally. However, as this is a new standard, there might be some few tokens, that are rejected due to declines at issuers.</p>
						<p>To accommodate the conversion rate a fallback by using standard PANs for COF is recommended when creating tokens and when creating cryptograms. For that reason the integrator must store the PAN (encrypted) with the token and use the standard PAN as authorization if the token somehow fails.</p>
						<h5 style="padding-top: 15px;">Fallback when requesting token</h5>
						<p>The illustration below shows how to perform fallback for token creation.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/fallback-requesting-token.png" alt="Fallback requesting token flow"></td>
									<td>
										<ol style="font-size: x-small">
											<li>Integrator requests Cardtokens to create a token by PAN data.</li>
											<li>Cardtokens identifies the scheme.</li>
											<li>Cardtokens requests a token against the scheme.</li>
											<li>Create token fails and no token is created.</li>
											<li>Cardtokens returns to the integrator without token data.</li>
											<li>The integrator stores the PAN encrypted as fallback. If authorization is made it is done as standard COF using PAN.</li>
										</ol>
									</td>
								</tr>
							</table>
						</p>
						<h5>Fallback when requesting cryptogram</h5>
						<p>The illustration below shows how to perform fallback for cryptogram creation.</p>
						<p>
							<table>
								<tr>
									<td><img src="./assets/flows/fallback-requesting-cryptogram.png" alt="Fallback requesting cryptogram flow"></td>
									<td>
										<ol style="font-size: x-small">
											<li>The integrator requests a cryptogram for a token.</li>
											<li>Cardtokens requests the scheme for a cryptogram.</li>
											<li>Create cryptogram fails and no cryptogram is created.</li>
											<li>Cardtokens returns to the integrator without cryptogram.</li>
											<li>The integrator authorizes using standard PAN.</li>
										</ol>
									</td>
								</tr>
							</table>
						</p>
						
						<!-- smart debugging -->
						<h4 id="item-3-11" style="padding-top: 25px;">Smart debugging</h4>
						<p>To perform easy and simple debugging we recommend to add a unique (GUID) requestID to each request in the header. Cardtokens will then grap the requestID and store with the request/response data in Cardtokens. This will link data together and help everyone to solve problems quickly. </p>
						<p>The header is named “x-request-id” and should contain an unique value. That could be a timestamp or a simple GUID (recommended without hyphens). </p>
						<p>Example of this header written in node:</p>
						<code>
							headers: { 'x-request-id': ' b50accf67ae24a729846d538d1f096d7' }
						</code>
						
					</section>
				</article>
						

				

			    <footer class="footer">
				    <div class="container text-center py-5">
						<p class="text-center text-muted mt-3 mb-3">© Copyright Cardtokens Aps <span id="footerYear">2023</span>. All Rights Reserved.</p>
				    </div>
			    </footer>
		    </div> 
	    </div>
    </div><!--//docs-wrapper-->
   
       
    <!-- Javascript -->          
    <script src="assets/plugins/popper.min.js"></script>
    <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>  
    
    
    <!-- Page Specific JS -->
    <script src="assets/plugins/smoothscroll.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.8/highlight.min.js"></script>
    <script src="assets/js/highlight-custom.js"></script> 
    <script src="assets/plugins/simplelightbox/simple-lightbox.min.js"></script>      
    <script src="assets/plugins/gumshoe/gumshoe.polyfills.min.js"></script> 
    <script src="assets/js/docs.js"></script> 
</body>
</html> 

